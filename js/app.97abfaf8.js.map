{"version":3,"file":"js/app.97abfaf8.js","mappings":"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","sources":["webpack://tmtr/./src/utils/extensions.js","webpack://tmtr/./src/utils/map-game-data.js","webpack://tmtr/./src/utils/constants.js","webpack://tmtr/./src/core/event-hub.js","webpack://tmtr/./src/core/runtime.js","webpack://tmtr/./src/core/layers/p.js","webpack://tmtr/./src/core/layers/n.js","webpack://tmtr/./src/core/layers/index.js","webpack://tmtr/./src/core/prestige.js","webpack://tmtr/./src/core/ui.init.js","webpack://tmtr/./src/core/tabs.js","webpack://tmtr/./src/core/layer.js","webpack://tmtr/./src/components/tree/tree-layout-info.js","webpack://tmtr/./src/utils/use-game-update.js","webpack://tmtr/./src/components/tree/LayerNode.vue","webpack://tmtr/./src/components/tree/LayerNode.vue?64fb","webpack://tmtr/./src/components/tree/NodeConnection.vue","webpack://tmtr/./src/components/tree/NodeConnection.vue?8eb8","webpack://tmtr/./src/components/tree/TreeLayout.vue","webpack://tmtr/./src/components/tree/TreeLayout.vue?3a7f","webpack://tmtr/./src/utils/format.js","webpack://tmtr/./src/mod-info.js","webpack://tmtr/./src/components/HeaderInfo.vue","webpack://tmtr/./src/components/HeaderInfo.vue?bcce","webpack://tmtr/./src/components/built-in/MainDisplay.vue","webpack://tmtr/./src/components/built-in/MainDisplay.vue?4bc8","webpack://tmtr/./src/components/built-in/ResetButton.vue","webpack://tmtr/./src/components/built-in/ResetButton.vue?029f","webpack://tmtr/./src/components/tabs/PTab.vue","webpack://tmtr/./src/components/tabs/PTab.vue?666d","webpack://tmtr/./src/components/tabs/NTab.vue","webpack://tmtr/./src/components/tabs/NTab.vue?8c7f","webpack://tmtr/./src/components/GameTab.vue","webpack://tmtr/./src/components/GameTab.vue?7566","webpack://tmtr/./src/components/GameUIComponent.vue","webpack://tmtr/./src/components/GameUIComponent.vue?deb9","webpack://tmtr/./src/env.js","webpack://tmtr/./src/core/ui.js","webpack://tmtr/./src/core/cache.js","webpack://tmtr/./src/utils/deepmerge.js","webpack://tmtr/./src/core/player.js","webpack://tmtr/./src/core/migrations.js","webpack://tmtr/./src/core/serializer.js","webpack://tmtr/./src/production.js","webpack://tmtr/./src/core/game-loop.js","webpack://tmtr/./src/utils/async.js","webpack://tmtr/./src/core/offline-simulation.js","webpack://tmtr/./src/core/storage.js","webpack://tmtr/./src/utils/crash.js","webpack://tmtr/./src/game.js","webpack://tmtr/./src/main.js","webpack://tmtr/webpack/bootstrap","webpack://tmtr/webpack/runtime/chunk loaded","webpack://tmtr/webpack/runtime/compat get default export","webpack://tmtr/webpack/runtime/define property getters","webpack://tmtr/webpack/runtime/global","webpack://tmtr/webpack/runtime/hasOwnProperty shorthand","webpack://tmtr/webpack/runtime/make namespace object","webpack://tmtr/webpack/runtime/jsonp chunk loading","webpack://tmtr/webpack/startup"],"sourcesContent":["import Decimal from \"break_eternity.js\";\n\nArray.prototype.distinct = function() {\n  return this.filter((value, index, self) => self.indexOf(value) === index);\n};\n\nMath.wrap = function(number, min, max) {\n  const range = max - min + 1;\n  const offset = ((number - min) % range);\n  return offset < 0 ? max + 1 + offset : min + offset;\n};\n\nMath.clamp = function(value, min, max) {\n  return Math.clampMax(Math.clampMin(value, min), max);\n};\n\nMath.clampMin = function(value, min) {\n  return Math.max(value, min);\n};\n\nMath.clampMax = function(value, max) {\n  return Math.min(value, max);\n};\n\nArray.prototype.nextSiblingIndex = function(current) {\n  const currentIndex = this.indexOf(current);\n  if (currentIndex === -1)\n    throw \"Current item is not in array\";\n  return currentIndex === this.length - 1 ? 0 : currentIndex + 1;\n};\n\nArray.prototype.nextSibling = function(current) {\n  return this[this.nextSiblingIndex(current)];\n};\n\nArray.prototype.previousSiblingIndex = function(current) {\n  const currentIndex = this.indexOf(current);\n  if (currentIndex === -1)\n    throw \"Current item is not in array\";\n  return currentIndex === 0 ? this.length - 1 : currentIndex - 1;\n};\n\nArray.prototype.previousSibling = function(current) {\n  return this[this.previousSiblingIndex(current)];\n};\n\nDecimal.sumReducer = function(accumulator, previous) {\n  return Decimal.add(accumulator, previous);\n};\n\nDecimal.prodReducer = function(accumulator, previous) {\n  return Decimal.mul(accumulator, previous);\n};\n\nNumber.sumReducer = function(accumulator, previous) {\n  return accumulator + previous;\n};\n\nNumber.prodReducer = function(accumulator, previous) {\n  return accumulator * previous;\n};\n\nDecimal.maxReducer = function(a, b) {\n  return Decimal.max(a, b);\n};\n\nDecimal.prototype.copyFrom = function(decimal) {\n  if (!(decimal instanceof Decimal)) {\n    throw \"Copy value is not Decimal\";\n  }\n  this.sign = decimal.sign;\n  this.mag = decimal.mag;\n  this.layer = decimal.layer;\n};\n\nwindow.copyToClipboard = (function() {\n  const el = document.createElement(\"textarea\");\n  document.body.appendChild(el);\n  el.style.position = \"absolute\";\n  el.style.left = \"-9999999px\";\n  el.setAttribute(\"readonly\", \"\");\n  return function(str) {\n    try {\n      el.value = str;\n      el.select();\n      return document.execCommand(\"copy\");\n    } catch (ex) {\n      console.log(ex);\n      return false;\n    }\n  };\n}());\n\nwindow.funOrVal = function(fn) {\n  if (typeof fn === \"function\") return fn();\n  return fn;\n}\n\nString.prototype.capitalize = function() {\n  return this.toLowerCase().replace(/^\\w/u, c => c.toUpperCase());\n};\n\nString.prototype.splice = function(start, delCount, newSubStr) {\n  return this.slice(0, start) + newSubStr + this.slice(start + Math.abs(delCount));\n};\n\n/**\n * @param {number} start\n * @param {number} count\n * @returns {number[]}\n */\nArray.range = function(start, count) {\n  return [...Array(count).keys()].map(i => i + start);\n};\n\n/**\n * @param {number} value\n * @param {number} count\n * @returns {number[]}\n */\nArray.repeat = function(value, count) {\n  return Array(count).fill(value);\n};\n\n/**\n * @param {function} predicate\n */\nArray.prototype.first = function(predicate) {\n  if (predicate === undefined) {\n    return this.length > 0 ? this[0] : undefined;\n  }\n  if (typeof predicate !== \"function\")\n    throw \"Predicate must be a function\";\n  for (let i = 0; i < this.length; i++) {\n    if (predicate(this[i]) === true) return this[i];\n  }\n  throw \"Array doesn't contain a matching item\";\n};\n\n/**\n * @param {function?} predicate\n */\nArray.prototype.last = function(predicate) {\n  if (predicate === undefined) {\n    return this.length > 0 ? this[this.length - 1] : undefined;\n  }\n  if (typeof predicate !== \"function\")\n    throw \"Predicate must be a function\";\n  for (let i = this.length - 1; i >= 0; i--) {\n    if (predicate(this[i]) === true) return this[i];\n  }\n  throw \"Array doesn't contain a matching item\";\n};\n\n/**\n * @param {function?} keyFun\n * @param {function?} valueFun\n * @returns {object}\n */\nArray.prototype.mapToObject = function(keyFun, valueFun) {\n  if (typeof keyFun !== \"function\" || typeof valueFun !== \"function\")\n    throw \"keyFun and valueFun must be functions\";\n  const out = {};\n  for (let idx = 0; idx < this.length; ++idx) {\n    out[keyFun(this[idx], idx)] = valueFun(this[idx], idx);\n  }\n  return out;\n};\n\n/**\n * @returns {number}\n */\nArray.prototype.sum = function() {\n  if (this.length === 0) return 0;\n  return this.reduce(Number.sumReducer);\n};\n\n/**\n * @returns {number}\n */\nArray.prototype.max = function() {\n  if (this.length === 0) return 0;\n  return this.reduce((a, b) => Math.max(a, b));\n};\n\n/**\n * @returns {number}\n */\nArray.prototype.min = function() {\n  if (this.length === 0) return 0;\n  return this.reduce((a, b) => Math.min(a, b));\n};\n\n/**\n * @param {function} predicate\n * @returns {number}\n */\nArray.prototype.countWhere = function(predicate) {\n  let count = 0;\n  for (const item of this) {\n    if (predicate(item))++count;\n  }\n  return count;\n};\n\n/**\n * @returns {Decimal}\n */\nDecimal.prototype.clampMaxExponent = function(maxExp) {\n  return this.exponent >= maxExp\n    ? Decimal.fromMantissaExponent_noNormalize(1, maxExp) : this;\n};\n\n/**\n * @return {Decimal}\n */\nNumber.prototype.toDecimal = function() {\n  return new Decimal(this.valueOf());\n};\n\nMath.log4 = Math.log(4);\n\nArray.prototype.randomElement = function() {\n  return this[Math.floor(Math.random() * this.length)];\n};\n\nDecimal.prototype.valueOf = () => {\n  throw new Error(\"Implicit conversion from Decimal to number\");\n};\n\nDecimal.prototype.copy = function() {\n  return Decimal.fromDecimal(this);\n};\n\nSet.prototype.countWhere = function(predicate) {\n  let count = 0;\n  for (const item of this) {\n    if (predicate(item))++count;\n  }\n  return count;\n};\n\nSet.prototype.find = function(predicate) {\n  for (const item of this) {\n    if (predicate(item)) return item;\n  }\n  return undefined;\n};\n\nSet.prototype.some = function(predicate) {\n  for (const item of this) {\n    if (predicate(item)) return true;\n  }\n  return false;\n};\n\nSet.prototype.every = function(predicate) {\n  for (const item of this) {\n    if (!predicate(item)) return false;\n  }\n  return true;\n};\n\nSet.prototype.filter = function(predicate) {\n  const output = new Set();\n  for (const item of this) {\n    if (predicate(item)) output.add(item);\n  }\n  return output;\n};\n\nSet.prototype.toJSON = function() {\n  return Array.from(this);\n};\n\nArray.prototype.compact = function() {\n  return this.filter(x => x !== undefined && x !== null);\n};\n\nArray.prototype.toBitmask = function() {\n  return this.reduce((prev, val) => prev | (1 << val), 0);\n};\n\nSet.prototype.toBitmask = function() {\n  let mask = 0;\n  for (const id of this) mask |= (1 << id);\n  return mask;\n};\n\nArray.fromBitmask = function(mask) {\n  const bitIndices = [];\n  let currentIndex = 0;\n  while (mask !== 0) {\n    if (mask & 1) bitIndices.push(currentIndex);\n    // eslint-disable-next-line no-param-reassign\n    mask >>= 1;\n    ++currentIndex;\n  }\n  return bitIndices;\n};\n\nString.isWhiteSpace = function(value) {\n  return value && !value.trim();\n};\n","export function mapGameData(gameData, mapFn) {\n  const result = [];\n  for (const data of gameData) {\n    result[data.id] = mapFn(data);\n  }\n  return result;\n}\n\nexport function mapGameDataToObject(gameData, mapFun) {\n  const array = Object.entries(gameData);\n  const out = {};\n  for (let idx = 0; idx < array.length; idx++) {\n    out[array[idx][0]] = mapFun(array[idx][1]);\n  }\n  return {\n    all: Object.values(out),\n    ...out\n  };\n}","import Decimal from \"break_eternity.js\";\n\nfunction deepFreeze(obj) {\n  Object.keys(obj).forEach(prop => {\n    const reference = obj[prop];\n    if (typeof reference === \"object\") deepFreeze(reference);\n  });\n  return Object.freeze(obj);\n}\n\nexport const DC = deepFreeze({\n  D0: new Decimal(\"0\"),\n  \n  D0_1: new Decimal(\"0.1\"),\n  D0_2: new Decimal(\"0.2\"),\n  D0_3: new Decimal(\"0.3\"),\n  D0_4: new Decimal(\"0.4\"),\n  D0_5: new Decimal(\"0.5\"),\n  D0_6: new Decimal(\"0.6\"),\n  D0_7: new Decimal(\"0.7\"),\n  D0_8: new Decimal(\"0.8\"),\n  D0_9: new Decimal(\"0.9\"),\n  \n  D1: new Decimal(\"1\"),\n  D2: new Decimal(\"2\"),\n  D3: new Decimal(\"3\"),\n  D4: new Decimal(\"4\"),\n  D5: new Decimal(\"5\"),\n  D6: new Decimal(\"6\"),\n  D7: new Decimal(\"7\"),\n  D8: new Decimal(\"8\"),\n  D9: new Decimal(\"9\"),\n  \n  D20: new Decimal(\"20\"),\n  \n  E1: new Decimal(\"1e1\"),\n  E2: new Decimal(\"1e2\"),\n  E3: new Decimal(\"1e3\"),\n  E4: new Decimal(\"1e4\"),\n  E5: new Decimal(\"1e5\"),\n  E6: new Decimal(\"1e6\"),\n  E7: new Decimal(\"1e7\"),\n  E8: new Decimal(\"1e8\"),\n  E9: new Decimal(\"1e9\"),\n  E10: new Decimal(\"1e10\"),\n});\n\nexport const LAYER_TYPE = {\n  NORMAL: 0,\n  STATIC: 1\n};","import { GameUI } from \"./ui\";\n\nexport class EventHub {\n  constructor() {\n    this._handlers = {};\n  }\n\n  on(event, fn, target) {\n    let handlers = this._handlers[event];\n    if (handlers === undefined) {\n      handlers = [];\n      this._handlers[event] = handlers;\n    }\n    handlers.push({ fn, target });\n  }\n\n  offAll(target) {\n    for (const handlers of Object.keys(this._handlers)) {\n      this._handlers[handlers] = this._handlers[handlers]\n        .filter(handler => handler.target !== target);\n    }\n  }\n  \n  off(fn) {\n    for (const handlers of Object.keys(this._handlers)) {\n      this._handlers[handlers] = this._handlers[handlers]\n        .filter(handler => handler.fn !== fn);\n    }\n  }\n\n  dispatch(event, args) {\n    const handlers = this._handlers[event];\n    if (handlers === undefined) return;\n    for (const handler of handlers) {\n      handler.fn(args);\n    }\n  }\n\n  static dispatch(event, ...args) {\n    EventHub.logic.dispatch(event, args);\n    GameUI.dispatch(event, args);\n  }\n\n  static get stats() {\n    // For debug/profiling purposes\n    function countHandlers(eventHub) {\n      return Object.values(eventHub._handlers)\n        .map(handlers => handlers.length)\n        .sum();\n    }\n    return `UI(UPDATE/Total): ${EventHub.ui._handlers[GAME_EVENT.UPDATE].length}/${countHandlers(EventHub.ui)}; ` +\n      `Logic(Total): ${countHandlers(EventHub.logic)}`;\n  }\n}\n\nEventHub.logic = new EventHub();\nEventHub.ui = new EventHub();\n\nexport const GAME_EVENT = {\n  GAME_TICK_AFTER: \"GAME_TICK_AFTER\",\n  UPDATE: \"UPDATE\",\n\n  TAB_CHANGED: \"TAB_CHANGED\",\n  ENTER_PRESSED: \"ENTER_PRESSED\",\n  HIDE_TOOLTIP: \"HIDE_TOOLTIP\",\n  \n  AFTER_LOADING: \"AFTER_LOADING\",\n  LAYER_UNLOCKED: \"LAYER_UNLOCKED\",\n  PRESTIGE_RESET: \"PRESTIGE_RESET\"\n};","window.currentPlayer = null;\n\nexport function setPlayer(player) {\n  currentPlayer = player;\n}\n\nexport function getPlayer() {\n  if (!currentPlayer) {\n    throw new Error(\"Player not initialized yet\");\n  }\n  return currentPlayer;\n}\n","import { DC, LAYER_TYPE } from \"@/utils/constants\";\nimport { GAME_EVENT } from \"@/core/event-hub\";\nimport { getPlayer } from \"../runtime\";\n\nexport default {\n  id: \"p\",\n  name: \"P\",\n  requirement: () => true,\n  checkEvent: GAME_EVENT.AFTER_LOADING,\n  color: \"#6080f3\",\n  getPlayerData() {\n    return {};\n  },\n  prestige: {\n    startingResource: DC.D0,\n    resource: \"Prestige Points\",\n    baseResource: \"Points\",\n    getBaseAmount() { return getPlayer().resource; },\n    setBaseAmount(value) { getPlayer().resource = value; },\n    type: LAYER_TYPE.NORMAL,\n    requirement: DC.E1,\n    exponent: DC.D0_5,\n    gainMult: DC.D1,\n    gainExp: DC.D1,\n    resetFn() {\n      getPlayer().resource = DC.D0;\n    }\n  },\n  tabs: [\"PTab\"]\n};","import { DC, LAYER_TYPE } from \"@/utils/constants\";\nimport { GAME_EVENT } from \"@/core/event-hub\";\nimport { Layer } from \"@/core/layer\";\nimport { getPlayer } from \"@/core/runtime\";\n\nexport default {\n  id: \"n\",\n  name: \"N\",\n  requirement: () => Layer.p.resource.gte(DC.D20),\n  checkEvent: GAME_EVENT.PRESTIGE_RESET,\n  color: \"#c58937\",\n  getPlayerData() {\n    return {};\n  },\n  prestige: {\n    startingResource: DC.D0,\n    resource: \"NaN Points\",\n    baseResource: \"Prestige Points\",\n    getBaseAmount() { return Layer.p.resource; },\n    setBaseAmount(value) { Layer.p.resource = value; },\n    type: LAYER_TYPE.NORMAL,\n    requirement: DC.D20,\n    exponent: DC.D0_1,\n    gainMult: DC.D1,\n    gainExp: DC.D1,\n    resetFn() {\n      Layer.p.resource = DC.D0;\n      getPlayer().resource = DC.E1;\n    }\n  },\n  tabs: [\"NTab\"]\n};","import p from \"./p\";\nimport n from \"./n\";\n\nexport const LayerData = {\n  p,\n  n\n};\n\nexport const LayerLayout = [\n  [\"p\"],\n  [\"n\"]\n];\n\nexport const LayerConnections = [\n  [\"p\", \"n\"]\n];","import { DC, LAYER_TYPE } from \"@/utils/constants\";\nimport { EventHub, GAME_EVENT } from \"./event-hub\";\n\nexport class PrestigeState {\n  constructor(config, layer) {\n    this.config = config;\n    this.layer = layer;\n  }\n  \n  get currency() {\n    return this.config.getBaseAmount();\n  }\n  \n  set currency(value) {\n    this.config.setBaseAmount(value);\n  }\n  \n  get type() {\n    return this.config.type;\n  }\n  \n  get requirement() {\n    return this.config.requirement;\n  }\n  \n  get exponent() {\n    return this.config.exponent;\n  }\n  \n  get gainMult() {\n    return this.config.gainMult;\n  }\n  \n  get gainExp() {\n    return this.config.gainExp;\n  }\n  \n  get canReset() {\n    return this.currency.gte(this.requirement);\n  }\n  \n  gainedResourceAt(amount) {\n    if (amount.lt(this.resource)) return DC.D0;\n    switch (this.type) {\n      case LAYER_TYPE.NORMAL: {\n        return amount.div(this.requirement).pow(this.exponent).times(this.gainMult.pow(this.gainExp));\n      }\n    }\n    return null;\n  }\n  \n  requirememtAt(amount) {\n    switch (this.type) {\n      case LAYER_TYPE.NORMAL: {\n        return amount.div(this.gainMult.pow(this.gainExp)).root(this.exponent).times(this.requirement);\n      }\n    }\n    return null;\n  }\n  \n  get pending() {\n    return this.gainedResourceAt(this.currency).floor();\n  }\n  \n  get nextAt() {\n    return this.requirememtAt(this.pending.add(1));\n  }\n  \n  reset() {\n    if (!this.canReset) return;\n    const pending = this.pending;\n    this.layer.resource = this.layer.resource.add(pending);\n    this.config.resetFn();\n    EventHub.dispatch(GAME_EVENT.PRESTIGE_RESET, this.layer.id);\n  }\n}","import { reactive } from \"vue\";\n\nexport const state = reactive({\n  view: {\n    modal: {\n      queue: [],\n      current: undefined,\n      progressBar: undefined,\n    },\n    layer: \"\",\n    tab: 0,\n    initialized: false\n  }\n});\n","import { state } from \"./ui.init\";\n\nexport class TabState {\n  constructor(config) {\n    this.component = config.is;\n    this.id = config.id;\n    this.condition = config.condition;\n  }\n  \n  get isUnlocked() {\n    return !this.condition || this.condition();\n  }\n  \n  get isOpen() {\n    return state.view.tab === this.id;\n  }\n  \n  show() {\n    state.view.tab = this.id;\n  }\n}","import { mapGameDataToObject } from \"@/utils/map-game-data\";\nimport { LayerData } from \"./layers\";\nexport { LayerConnections, LayerLayout } from \"./layers\";\nimport { EventHub, GAME_EVENT } from \"./event-hub\";\nimport { PrestigeState } from \"./prestige\";\nimport { TabState } from \"./tabs\";\nimport { state } from \"./ui.init\";\nimport { DC } from \"@/utils/constants\";\nimport { getPlayer } from \"./runtime\";\n\nclass LayerState {\n  constructor(config) {\n    this.config = config;\n    EventHub.logic.on(config.checkEvent, (...args) => this.tryUnlock(...args));\n    this.prestige = new PrestigeState(config.prestige, this);\n    const tabs = config.tabs;\n    this.tabs = tabs.map((tab, index) => {\n      if (typeof tab === \"string\") {\n        return new TabState({\n          is: tab,\n          id: index\n        });\n      }\n      return new TabState({\n        id: index,\n        ...tab\n      });\n    });\n  }\n  \n  get isOpen() {\n    return state.view.layer === this.id;\n  }\n  \n  show() {\n     state.view.layer = this.id;\n     this.tabs[0].show();\n  }\n\n  get id() {\n    return this.config.id;\n  }\n\n  get name() {\n    return this.config.name;\n  }\n\n  get isUnlocked() {\n    return this.data.isUnlocked;\n  }\n\n  set isUnlocked(value) {\n    this.data.isUnlocked = value;\n  }\n\n  createPlayerData() {\n    const playerData = this.config.getPlayerData();\n    playerData.isUnlocked = false;\n    playerData.resource = this.config.prestige.startingResource || DC.D0;\n    return playerData;\n  }\n  \n  get data() {\n    return getPlayer().layers[this.id];\n  }\n  \n  get resource() {\n    return this.data.resource;\n  }\n  \n  set resource(value) {\n    this.data.resource = value;\n  }\n  \n  tryUnlock(...args) {\n    if (this.isUnlocked || !this.config.requirement(...args)) return;\n    this.isUnlocked = true;\n    EventHub.dispatch(GAME_EVENT.LAYER_UNLOCKED);\n  }\n}\n\nexport const Layer = mapGameDataToObject(\n  LayerData,\n  config => new LayerState(config)\n);\n\nexport const Layers = {\n  getData() {\n    const data = {};\n    for (const layer of Layer.all) {\n      data[layer.id] = layer.createPlayerData();\n    }\n    return data;\n  }\n};","import { Layer, LayerLayout } from \"@/core/layer\";\nimport { EventHub, GAME_EVENT } from \"@/core/event-hub\";\n\nexport function getNodeLayer(id) {\n  return Layer[id];\n}\n\nconst TREE_INFO = {\n  ROW_HEIGHT: 150,\n  NODE_SIZE: 100\n};\n\nconst NodeCache = new Map();\nexport function getNodePosition(id) {\n  if (NodeCache.has(id)) return NodeCache.get(id);\n  for (let i = 0; i < LayerLayout.length; i++) {\n    const row = LayerLayout[i].map(x => getNodeLayer(x)).filter(x => x.isUnlocked);\n    for (let j = 0; j < row.length; j++) {\n      if (row[j].id === id) {\n        const output = {\n          x: `${100 * (j + 1) / (row.length + 1)}%`,\n          y: (TREE_INFO.ROW_HEIGHT * i + TREE_INFO.NODE_SIZE).toString()\n        };\n        NodeCache.set(id, output);\n        return output;\n      }\n    }\n  }\n  NodeCache.set(id, null);\n  return null;\n}\n\nEventHub.ui.on(GAME_EVENT.LAYER_UNLOCKED, () => NodeCache.clear());","import { onUnmounted } from \"vue\";\nimport { EventHub, GAME_EVENT } from \"@/core/event-hub\";\nimport { state } from \"@/core/ui.init\";\n\nexport function useGameUpdate(updateFn) {\n  on$(GAME_EVENT.UPDATE, updateFn);\n  if (state.view.initialized) {\n    updateFn();\n  }\n}\n\nexport function on$(event, fn) {\n  const handler = () => {\n    if (state.view.initialized) {\n      fn();\n    }\n  }\n  \n  if (fn) {\n    EventHub.ui.on(event, handler);\n  }\n  \n  onUnmounted(() => {\n    EventHub.ui.off(event, handler);\n  });\n}","<script setup>\nimport { computed, ref } from \"vue\";\nimport { getNodePosition } from \"./tree-layout-info\";\nimport { useGameUpdate } from \"@/utils/use-game-update\";\n\nconst props = defineProps({\n  layer: {\n    type: Object,\n    required: true\n  }\n});\n\nconst layer = props.layer;\nconst layerName = computed(() => layer.name);\nconst position = computed(() => getNodePosition(layer.id));\nconst styleObject = computed(() => ({\n  \"--node-color\": layer.config.color,\n  left: position.value.x,\n  top: `${position.value.y}px`\n}));\nconst isUnlocked = ref(false);\n\nfunction showLayer() {\n  layer.show();\n}\n\nfunction update() {\n  isUnlocked.value = layer.isUnlocked;\n}\nuseGameUpdate(update);\n</script>\n\n<template>\n  <button\n    v-if=\"isUnlocked\"\n    class=\"layer-node\"\n    :style=\"styleObject\"\n    @click=\"showLayer\"\n  >\n    {{ layerName }}\n  </button>\n</template>\n\n<style scoped>\n.layer-node {\n  --node-color: white;\n  border: 0.5rem solid rgba(0, 0, 0, 0.125);\n  border-radius: 50%;\n  background-color: var(--node-color);\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 4rem;\n  width: 10rem;\n  height: 10rem;\n  line-height: 10rem;\n  position: absolute;\n  transform: translate(-50%, -50%);\n}\n</style>","import script from \"./LayerNode.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LayerNode.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LayerNode.vue?vue&type=style&index=0&id=87da4cbe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-87da4cbe\"]])\n\nexport default __exports__","<script setup>\nimport { getNodePosition, getNodeLayer } from \"./tree-layout-info\";\nimport { computed, ref } from \"vue\";\nimport { useGameUpdate } from \"@/utils/use-game-update\";\n\nconst props = defineProps({\n  connection: {\n    type: Array,\n    required: true\n  }\n});\n\nconst pos1 = computed(() => getNodePosition(props.connection[0]));\nconst pos2 = computed(() => getNodePosition(props.connection[1]));\n\nconst bothUnlocked = ref(false);\n\nfunction update() {\n  bothUnlocked.value = props.connection.every(node => getNodeLayer(node).isUnlocked);\n}\nuseGameUpdate(update);\n</script>\n\n<template>\n  <line\n    v-if=\"bothUnlocked\"\n    :x1=\"pos1.x\"\n    :y1=\"pos1.y\"\n    :x2=\"pos2.x\"\n    :y2=\"pos2.y\"\n    class=\"line-style\"\n  />\n</template>\n\n<style scoped>\n.line-style {\n  stroke: white;\n  stroke-width: 12px;\n}\n</style>","import script from \"./NodeConnection.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NodeConnection.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NodeConnection.vue?vue&type=style&index=0&id=4284c120&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4284c120\"]])\n\nexport default __exports__","<script setup>\nimport LayerNode from \"./LayerNode\";\nimport NodeConnection from \"./NodeConnection\";\nimport { Layer, LayerConnections } from \"@/core/layer\";\nimport { computed } from \"vue\";\n\nconst layers = Layer.all;\nconst connections = computed(() => LayerConnections);\n</script>\n\n<template>\n  <div class=\"tree-layout\">\n    <svg class=\"layer-svg\">\n      <NodeConnection\n        v-for=\"(connection, idx) in connections\"\n        :key=\"idx + '-connection'\"\n        :connection=\"connection\"\n      />\n    </svg>\n    <div class=\"layer-node-container\">\n      <LayerNode\n        v-for=\"layer in layers\"\n        :key=\"layer.id\"\n        :layer=\"layer\"\n      />\n    </div>\n  </div>\n</template>\n\n\n<style scoped>\n.tree-layout {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.layer-node-container,\n.layer-svg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n</style>","import script from \"./TreeLayout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TreeLayout.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TreeLayout.vue?vue&type=style&index=0&id=486ce37f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-486ce37f\"]])\n\nexport default __exports__","import Decimal from \"break_eternity.js\";\n\nconst FORMAT_THRESHOLD = {\n  EXP_NOMANTISSA: new Decimal(\"1e1000000\"),\n  EXP_WITH_MANTISSA: new Decimal(\"1e10000\"),\n  EXP_STANDARD: new Decimal(1e9),\n  COMMA: new Decimal(1e3),\n  SMALL: new Decimal(0.0001),\n  SLOG_UPPER: new Decimal(\"eeee1000\"),\n};\n\n/**\n * @param {Decimal} exponent\n * @returns {string}\n */\nfunction formatExponent(exponent) {\n  if (exponent.gte(1e9)) {\n    return format(exponent, 3);\n  }\n  if (exponent.gte(10000)) {\n    return commaFormat(exponent, 0);\n  }\n  return exponent.toStringWithDecimalPlaces(0);\n}\n\n/**\n * @param {Decimal} num\n * @param {number} precision\n * @param {boolean} includeMantissa\n * @returns {string}\n */\nexport function exponentialFormat(num, precision, includeMantissa = true) {\n  const exponent = num.log10().floor();\n  let mantissa = num.div(Decimal.pow10(exponent));\n  if (mantissa.toStringWithDecimalPlaces(precision) === \"10\") {\n    mantissa = new Decimal(1);\n    exponent.add(1);\n  }\n\n  const expStr = formatExponent(exponent, precision);\n  if (includeMantissa) {\n    return `${mantissa.toStringWithDecimalPlaces(precision)}e${expStr}`;\n  }\n  return `e${expStr}`;\n}\n\n/**\n * @param {Decimal} num\n * @param {number} precision\n * @returns {string}\n */\nfunction commaFormat(num, precision) {\n  if (num === null) return \"NaN\";\n  if (num.mag < 0.001) return (0).toFixed(precision);\n\n  const raw = num.toStringWithDecimalPlaces(precision);\n  const parts = raw.split(\".\");\n  parts[0] = parts[0].replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/gu, \"$1,\");\n  return parts.length === 1 ? parts[0] : `${parts[0]}.${parts[1]}`;\n}\n\n/**\n * @param {Decimal} num\n * @param {number} precision\n * @returns {string}\n */\nfunction regularFormat(num, precision) {\n  if (num === null) return \"NaN\";\n  if (num.mag < 0.0001) return (0).toFixed(precision);\n  let actualPrecision = precision;\n  if (num.mag < 0.1 && precision !== 0) {\n    actualPrecision = Math.max(precision, 4);\n  }\n  return num.toStringWithDecimalPlaces(actualPrecision);\n}\n\n/**\n * @param {Decimal|number} decimal\n * @param {number} precision\n * @param {boolean} allowSmall\n * @returns {string}\n */\nexport function format(decimal, precision = 2, allowSmall = false) {\n  const num = Decimal.fromValue_noAlloc(decimal);\n  if (isNaN(num.sign) || isNaN(num.layer) || isNaN(num.mag)) {\n    player.hasNaN = true;\n    return \"NaN\";\n  }\n  if (num.sign < 0) return `-${format(num.neg(), precision, allowSmall)}`;\n  if (num.mag === Number.POSITIVE_INFINITY) return \"Infinity\";\n  if (num.gte(FORMAT_THRESHOLD.SLOG_UPPER)) {\n    const slog = num.slog();\n    if (slog.gte(1e6)) return `F${format(slog.floor())}`;\n    const base = Decimal.pow(10, slog.sub(slog.floor()));\n    return `${base.toStringWithDecimalPlaces(3)}F${commaFormat(slog.floor(), 0)}`;\n  }\n  if (num.gte(FORMAT_THRESHOLD.EXP_NOMANTISSA)) {\n    return exponentialFormat(num, 0, false);\n  }\n  if (num.gte(FORMAT_THRESHOLD.EXP_WITH_MANTISSA)) {\n    return exponentialFormat(num, 0, true);\n  }\n  if (num.gte(FORMAT_THRESHOLD.EXP_STANDARD)) {\n    return exponentialFormat(num, precision, true);\n  }\n  if (num.gte(FORMAT_THRESHOLD.COMMA)) {\n    return commaFormat(num, 0);\n  }\n  if (num.gte(FORMAT_THRESHOLD.SMALL) || !allowSmall) {\n    return regularFormat(num, precision);\n  }\n  if (num.eq(0)) {\n    return (0).toFixed(precision);\n  }\n  return formatVerySmall(num, precision);\n}\n\n/**\n * @param {Decimal} num\n * @param {number} precision\n * @returns {string}\n */\nexport function formatVerySmall(num, precision) {\n  const transformed = invertOOM(num);\n\n  if (transformed.lt(1e1000)) {\n    const expForm = exponentialFormat(transformed, precision);\n    return expForm.replace(/([^(?:e|F)]*)$/u, \"-$1\");\n  }\n  return `${format(transformed, precision)}`;\n}\n\n/**\n * @param {Decimal} x\n * @returns {Decimal}\n */\nfunction invertOOM(x) {\n  const e = x.log10().ceil();\n  const m = x.div(Decimal.pow(10, e));\n  const newE = e.neg();\n  return Decimal.pow(10, newE).times(m);\n}\n\n/**\n * @param {Decimal|number} decimal\n * @returns {string}\n */\nexport function formatInt(value) {\n  if (typeof value === \"number\") {\n    return value.toFixed(0);\n  }\n  if (num.gte(1e9)) return format(value, 2);\n  if (num.lte(0.99) && !num.eq(0)) return format(value, 2);\n  return format(value, 0);\n}\n\n/**\n * @param {number} seconds\n * @returns {string}\n */\nexport function formatTime(seconds) {\n  const SECONDS_PER_MINUTE = 60;\n  const SECONDS_PER_HOUR = 60 * SECONDS_PER_MINUTE;\n  const SECONDS_PER_DAY = 24 * SECONDS_PER_HOUR;\n  const SECONDS_PER_YEAR = 365 * SECONDS_PER_DAY;\n\n  const totalSeconds = Math.floor(seconds);\n\n  const years = Math.floor(totalSeconds / SECONDS_PER_YEAR);\n  const remainingAfterYears = totalSeconds % SECONDS_PER_YEAR;\n  const days = Math.floor(remainingAfterYears / SECONDS_PER_DAY);\n  const remainingAfterDays = remainingAfterYears % SECONDS_PER_DAY;\n  const hours = Math.floor(remainingAfterDays / SECONDS_PER_HOUR);\n  const remainingAfterHours = remainingAfterDays % SECONDS_PER_HOUR;\n  const minutes = Math.floor(remainingAfterHours / SECONDS_PER_MINUTE);\n  const secs = remainingAfterHours % SECONDS_PER_MINUTE;\n\n  const values = [years, days, hours, minutes, secs];\n  const units = [\"y\", \"d\", \"h\", \"m\", \"s\"];\n  const formatters = [formatInt, formatInt, formatInt, formatInt, format];\n\n  let startIndex = 0;\n  while (startIndex < values.length - 1 && values[startIndex] === 0) {\n    startIndex++;\n  }\n\n  const parts = [];\n  for (let i = startIndex; i < values.length; i++) {\n    parts.push(formatters[i](values[i]) + units[i]);\n  }\n  return parts.join(\" \");\n}\n\n/**\n * @param {Decimal|number} x\n * @param {number} precision\n * @param {Decimal|number} maxAccepted\n * @returns {string}\n */\nexport function toPlaces(x, precision, maxAccepted) {\n  const num = new Decimal(x);\n  let result = num.toStringWithDecimalPlaces(precision);\n  if (new Decimal(result).gte(maxAccepted)) {\n    const step = Math.pow(0.1, precision);\n    const maxVal = new Decimal(maxAccepted).sub(step);\n    result = maxVal.toStringWithDecimalPlaces(precision);\n  }\n  return result;\n}","import Decimal from \"break_eternity.js\";\n\nexport const ModInfo = Object.freeze({\n  name: \"The ??? Tree\",\n  author: \"nobody\",\n  resourceName: \"Points\",\n  discordName: \"\",\n  discordLink: \"\",\n  startingResource: new Decimal(10),\n  versionDisplay: \"0.0\",\n  version: 0,\n  versionTitle: \"Literally nothing\"\n});\n\nexport const WIN_TEXT = \"Congratulations! You have reached the end and beaten this game, but for now...\";","<script setup>\nimport { format } from \"@/utils/format\";\nimport Decimal from \"break_eternity.js\";\nimport { getPlayer } from \"@/core/runtime\";\nimport { useGameUpdate } from \"@/utils/use-game-update\";\nimport { ModInfo } from \"@/mod-info\";\nimport { ref } from \"vue\";\n\nconst resource = ref(new Decimal(0));\nfunction update() {\n  resource.value.copyFrom(getPlayer().resource);\n}\nuseGameUpdate(update);\nconst resourceName = ModInfo.resourceName;\n</script>\n\n<template>\n  <div class=\"info\">\n    <div>You have <span class=\"res-accent\">{{ format(resource) }}</span> {{ resourceName }}.</div>\n  </div>\n</template>\n\n<style scope>\n</style>","import script from \"./HeaderInfo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HeaderInfo.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { computed, ref } from \"vue\";\nimport Decimal from \"break_eternity.js\";\nimport { format } from \"@/utils/format\";\nimport { useGameUpdate } from \"@/utils/use-game-update\";\n\nconst props = defineProps({\n  layer: {\n    type: Object,\n    required: true\n  }\n});\nconst layer = props.layer;\nconst color = computed(() => layer.config.color);\nconst resource = ref(new Decimal(0));\nconst resourceName = computed(() => layer.config.prestige.resource);\n\nfunction update() {\n  resource.value.copyFrom(layer.resource);\n}\nuseGameUpdate(update);\n\nconst styleObject = computed(() => ({ color: color.value }));\n</script>\n\n<template>\n  <div class=\"info\">You have <span :style=\"styleObject\">{{ format(resource )}}</span> {{ resourceName }}.</div>\n</template>","import script from \"./MainDisplay.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MainDisplay.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { useGameUpdate } from \"@/utils/use-game-update\";\nimport { computed, ref } from \"vue\";\nimport Decimal from \"break_eternity.js\";\nimport { format } from \"@/utils/format\";\n\nconst props = defineProps({\n  layer: {\n    type: Object,\n    required: true\n  }\n});\n\nconst layer = props.layer;\nconst prestige = layer.prestige;\nconst color = computed(() => layer.config.color);\nconst resource = ref(new Decimal(0));\nconst nextAt = ref(new Decimal(0));\nconst gain = ref(new Decimal(0));\nconst baseResource = computed(() => layer.config.prestige.baseResource);\nconst resourceName = computed(() => layer.config.prestige.resource);\n\nconst canReset = ref(false);\n\nconst classObject = computed(() => ({\n  \"reset-btn\": true,\n  \"reset-btn--available\": canReset.value\n}));\n\nconst styleObject = computed(() => ({\n  \"--color-layer\": color.value\n}));\n\nfunction update() {\n  canReset.value = prestige.canReset;\n  resource.value.copyFrom(prestige.currency);\n  gain.value.copyFrom(prestige.pending);\n  nextAt.value.copyFrom(prestige.nextAt);\n}\nuseGameUpdate(update);\n\nfunction reset() {\n  prestige.reset();\n}\n</script>\n\n<template>\n  <div>\n    <button\n      :style=\"styleObject\"\n      :class=\"classObject\"\n      @click=\"reset\"\n    >\n      <span>Reset for +{{ format(gain, 0) }} {{ resourceName }}</span>\n      <br>\n      <span>Next at: {{ format(nextAt) }} {{ baseResource }}</span>\n    </button>\n    <div class=\"info\">You have {{ format(resource) }} {{ baseResource }}.</div>\n  </div>\n</template>\n\n<style scoped>\n.reset-btn {\n  width: 18rem;\n  height: 12rem;\n  border: 5px solid rgba(0, 0, 0, 0.125);\n  color: rgba(0, 0, 0, 0.8);\n  background: var(--color-bad);\n  border-radius: 3rem;\n}\n\n.reset-btn--available {\n  background: var(--color-layer);\n}\n</style>\n","import script from \"./ResetButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ResetButton.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ResetButton.vue?vue&type=style&index=0&id=be3b6926&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-be3b6926\"]])\n\nexport default __exports__","<script setup>\nimport { MainDisplay, ResetButton } from \"@/components/built-in\";\nimport { computed } from \"vue\";\nimport { Layer } from \"@/core/layer\";\n\nconst layer = computed(() => Layer.p);\n</script>\n\n<template>\n  <div>\n    <MainDisplay :layer=\"layer\" />\n    <ResetButton :layer=\"layer\" />\n  </div>\n</template>","import script from \"./PTab.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PTab.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { MainDisplay, ResetButton } from \"@/components/built-in\";\nimport { computed } from \"vue\";\nimport { Layer } from \"@/core/layer\";\n\nconst layer = computed(() => Layer.n);\n</script>\n\n<template>\n  <div>\n    <MainDisplay :layer=\"layer\" />\n    <ResetButton :layer=\"layer\" />\n  </div>\n</template>","import script from \"./NTab.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NTab.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { state } from \"@/core/ui.init\";\nimport * as components from \"./tabs\";\nimport { computed } from \"vue\";\nimport { Layer } from \"@/core/layer\";\n\nconst layer = computed(() => Layer[state.view.layer]);\nconst tab = computed(() => layer.value.tabs[state.view.tab]);\n</script>\n\n<template>\n  <div class=\"game-tab\">\n    <component :is=\"components[tab.component]\" />\n  </div>\n</template>\n\n<style scoped>\n.game-tab {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n</style>","import script from \"./GameTab.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GameTab.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GameTab.vue?vue&type=style&index=0&id=9bb7bf8e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9bb7bf8e\"]])\n\nexport default __exports__","<script setup>\nimport TreeLayout from \"./tree/TreeLayout\";\nimport HeaderInfo from \"./HeaderInfo\";\nimport GameTab from \"./GameTab\";\nimport { state } from \"@/core/ui.init\";\nimport { computed } from \"vue\";\n\nconst tabVisible = computed(() => state.view.layer !== \"\");\nconst singlePage = false;\n\n</script>\n\n<template>\n  <div\n    v-if=\"state.view.initialized\"\n    class=\"game-ui\"\n  >\n    <div\n      class=\"game-panel\"\n      v-if=\"!singlePage || !tabVisible\"\n    >\n      <HeaderInfo />\n      <TreeLayout />\n    </div>\n    <div\n      v-if=\"tabVisible\"\n      class=\"game-panel\"\n    >\n      <GameTab />\n      <div\n        class=\"back-btn\"\n        @click=\"state.view.layer = ''\"\n      >\n        \n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.game-panel {\n  flex: 1;\n  padding: 3rem 1rem;\n  position: relative;\n}\n\n.game-panel:not(:first-child) {\n  border-left: 2px solid #808080;\n}\n\n.back-btn {\n  color: var(--color-accent);\n  font-size: 3rem;\n  position: absolute;\n  left: 2rem;\n  top: 1rem;\n  font-weight: bold;\n}\n</style>","import script from \"./GameUIComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GameUIComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GameUIComponent.vue?vue&type=style&index=0&id=701aaf76&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-701aaf76\"]])\n\nexport default __exports__","export const DEV = process.env.NODE_ENV === \"development\";","import { createApp } from \"vue\";\nimport GameUIComponent from \"@/components/GameUIComponent\";\nimport { EventHub, GAME_EVENT } from \"@/core/event-hub\";\nconsole.log(createApp);\nimport { getPlayer } from \"./runtime\";\nimport { DEV } from \"@/env\";\n\nconst ReactivityComplainer = {\n  complain() {\n    this.checkReactivity(getPlayer(), \"player\");\n  },\n  checkReactivity(obj, path) {\n    if (obj === undefined || obj === null) {\n      return;\n    }\n    if (obj.__ob__ !== undefined) {\n      throw new Error(`Boi you fukked up - ${path} became REACTIVE (oh shite)`);\n    }\n    for (const key in obj) {\n      if (!Object.prototype.hasOwnProperty.call(obj, key)) continue;\n      const prop = obj[key];\n      if (typeof prop === \"object\") {\n        this.checkReactivity(prop, `${path}.${key}`);\n      }\n    }\n  }\n};\n\nexport const GameUI = {\n  events: [],\n  flushPromise: undefined,\n  initialized: false,\n  dispatch(event, args) {\n    const index = this.events.indexOf(event);\n    if (index !== -1) {\n      this.events.splice(index, 1);\n    }\n    if (event !== GAME_EVENT.UPDATE) {\n      this.events.push([event, args]);\n    }\n    if (this.flushPromise) return;\n    this.flushPromise = Promise.resolve()\n      .then(this.flushEvents.bind(this));\n  },\n  flushEvents() {\n    this.flushPromise = undefined;\n    for (const event of this.events) {\n      EventHub.ui.dispatch(event[0], event[1]);\n    }\n    EventHub.ui.dispatch(GAME_EVENT.UPDATE);\n    if (DEV) {\n      ReactivityComplainer.complain();\n    }\n    this.events = [];\n  },\n  update() {\n    this.dispatch(GAME_EVENT.UPDATE);\n  }\n};\n\nexport const ui = createApp(GameUIComponent);\n\nui.mount(\"#ui\");\n","export class Lazy {\r\n  constructor(getValue) {\r\n    this._getValue = getValue;\r\n    Lazy.registerLazy(this);\r\n  }\r\n\r\n  static get registrar() {\r\n    if (Lazy._registrar === undefined) {\r\n      Lazy._registrar = [];\r\n    }\r\n    return Lazy._registrar;\r\n  }\r\n\r\n  static registerLazy(object) {\r\n    Lazy.registrar.push(object);\r\n  }\r\n\r\n  static invalidateAll() {\r\n    for (const obj of Lazy.registrar) {\r\n      obj.invalidate();\r\n    }\r\n  }\r\n\r\n  get value() {\r\n    if (this._value === undefined) {\r\n      this._value = this._getValue();\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  invalidate() {\r\n    this._value = undefined;\r\n  }\r\n\r\n  /**\r\n   * @return {Lazy}\r\n   */\r\n  invalidateOn(...events) {\r\n    for (const event of events) {\r\n      EventHub.logic.on(event, () => this.invalidate());\r\n    }\r\n    return this;\r\n  }\r\n}","// Deepmerge library modified for Antimatter Dimensions usage (mainly Decimal integration)\r\n// Source: https://github.com/TehShrike/deepmerge\r\nimport Decimal from \"break_eternity.js\";\r\n\r\nfunction emptyTarget(val) {\r\n  return Array.isArray(val) ? [] : {};\r\n}\r\n\r\nfunction cloneUnlessOtherwiseSpecified(value, options) {\r\n  if (value instanceof Decimal) {\r\n    return new Decimal(value);\r\n  }\r\n  if (value instanceof Set) {\r\n    return new Set(value);\r\n  }\r\n  return (options.clone !== false && options.isMergeableObject(value))\r\n    ? deepmerge(emptyTarget(value), value, options)\r\n    : value;\r\n}\r\n\r\nfunction defaultArrayMerge(target, source, options) {\r\n  return target.concat(source).map(element => cloneUnlessOtherwiseSpecified(element, options));\r\n}\r\n\r\nfunction mergeObject(target, source, options) {\r\n  const destination = {};\r\n  if (options.isMergeableObject(target)) {\r\n    Object.keys(target).forEach(key => {\r\n      destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\r\n    });\r\n  }\r\n  Object.keys(source).forEach(key => {\r\n    if (target[key] && target[key] instanceof Decimal) {\r\n      destination[key] = new Decimal(source[key]);\r\n    } else if (target[key] && target[key] instanceof Set) {\r\n      destination[key] = new Set(source[key]);\r\n    } else if (!options.isMergeableObject(source[key]) || !target[key]) {\r\n      destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\r\n    } else {\r\n      destination[key] = deepmerge(target[key], source[key], options);\r\n    }\r\n  });\r\n  return destination;\r\n}\r\n\r\nexport function deepmerge(target, source, options = {}) {\r\n  options.arrayMerge = options.arrayMerge || defaultArrayMerge;\r\n  options.isMergeableObject = options.isMergeableObject || isMergeableObject;\r\n\r\n  if (target instanceof Decimal) {\r\n    return new Decimal(source);\r\n  }\r\n\r\n  if (target instanceof Set) {\r\n    return new Set(source);\r\n  }\r\n\r\n  const sourceIsArray = Array.isArray(source);\r\n  const targetIsArray = Array.isArray(target);\r\n  const sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\r\n\r\n  if (!sourceAndTargetTypesMatch) {\r\n    return cloneUnlessOtherwiseSpecified(source, options);\r\n  }\r\n\r\n  if (sourceIsArray) {\r\n    return options.arrayMerge(target, source, options);\r\n  }\r\n\r\n  return mergeObject(target, source, options);\r\n}\r\n\r\nexport function deepmergeAll(array, options) {\r\n  if (!Array.isArray(array)) {\r\n    throw new Error(\"first argument should be an array\");\r\n  }\r\n\r\n  if (!options) {\r\n    // eslint-disable-next-line no-shadow\r\n    const deepCloneMerge = (destinationArray, sourceArray, options) => sourceArray.map((element, index) => {\r\n      if (destinationArray[index] && destinationArray[index] instanceof Decimal) {\r\n        return new Decimal(element);\r\n      }\r\n\r\n      if (destinationArray[index] && destinationArray[index] instanceof Set) {\r\n        return new Set(element);\r\n      }\r\n\r\n      if (!options.isMergeableObject(element) || !destinationArray[index]) {\r\n        return cloneUnlessOtherwiseSpecified(element, options);\r\n      }\r\n      return deepmerge(destinationArray[index], element, options);\r\n\r\n    });\r\n    // eslint-disable-next-line no-param-reassign\r\n    options = {\r\n      arrayMerge: deepCloneMerge\r\n    };\r\n  }\r\n\r\n  return array.reduce((prev, next) => deepmerge(prev, next, options), {});\r\n}\r\n\r\nfunction isMergeableObject(value) {\r\n  return isNonNullObject(value) && !isSpecial(value);\r\n}\r\n\r\nfunction isNonNullObject(value) {\r\n  return Boolean(value) && typeof value === \"object\";\r\n}\r\n\r\nfunction isSpecial(value) {\r\n  const stringValue = Object.prototype.toString.call(value);\r\n  return stringValue === \"[object RegExp]\" || stringValue === \"[object Date]\";\r\n}\r\n","import { deepmergeAll } from \"@/utils/deepmerge\";\nimport { ModInfo } from \"@/mod-info\";\nimport Decimal from \"break_eternity.js\";\nimport { Layers } from \"./layer\";\nimport { setPlayer } from \"./runtime\";\n\nexport function getDefaultPlayer() {\n  return {\n    options: {\n      currentTab: \"\",\n      currentSubtab: \"\"\n    },\n    lastUpdate: Date.now(),\n    resource: Decimal.fromValue_noAlloc(ModInfo.startingResource),\n    version: ModInfo.version,\n    layers: Layers.getData()\n  };\n}\n\nexport let player = getDefaultPlayer();\n\nexport function updatePlayerDependency() {\n  setPlayer(player);\n}\n\nexport function resetPlayerData() {\n  player = deepmergeAll([{}, getDefaultPlayer()]);\n  updatePlayerDependency();\n}\n\nexport function updatePlayerData(newPlayer) {\n  player = newPlayer;\n  updatePlayerDependency();\n}","import { deepmergeAll } from \"@/utils/deepmerge\";\nimport { getDefaultPlayer } from \"./player\";\n\nexport const migrations = {\n  patches: {\n\n  },\n\n  prePatch(saveData) {\n    // Initialize all possibly undefined properties that were not present in\n    // previous versions and which could be overwritten by deepmerge\n    saveData.version = saveData.version || 0;\n  },\n\n  // Patch up to the specified version; we need this functionality in order to properly migrate both saves from\n  // much older versions and saves from in-development versions\n  patch(saveData, maxVersion) {\n    this.prePatch(saveData);\n    // This adds all the undefined properties to the save which are in player.js\n    const player = deepmergeAll([getDefaultPlayer(), saveData]);\n    const versions = Object.keys(this.patches).map(parseFloat).sort();\n    let version;\n    while ((version = versions.find(v => player.version < v && v < maxVersion)) !== undefined) {\n      const patch = this.patches[version];\n      patch(player);\n      player.version = version;\n    }\n    return player;\n  },\n\n  patchPlayer(saveData) {\n    // Plus 1 because this the threshold is exclusive (it migrates up to but not including the maxVersion)\n    return this.patch(saveData, Object.keys(migrations.patches).map(parseFloat).max() + 1);\n  }\n};","import pako from \"pako\";\n\nfunction gzipToStr(data) {\n  const charData = window.atob(data).split(\"\").map(item => item.charCodeAt(0));\n  const binData = new Uint8Array(charData);\n  return pako.inflate(binData, {\n    to: \"string\"\n  });\n}\n\nfunction strToGzip(data) {\n  return window.btoa(String.fromCharCode.apply(\n    null,\n    pako.deflate(data, {\n      gzip: true\n    })\n  ));\n}\n\nexport const Serializer = {\n  fileStart: \"TheModdingTreeSaveFileAAA\",\n  fileEnd: \"EndOfSaveFile\",\n  encode(str) {\n    return `${this.fileStart}${\n      strToGzip(str)\n        .replace(/0/gu, \"0a\")\n        .replace(/(\\+)/gu, \"0b\")\n        .replace(/(\\/)/gu, \"0c\")\n    }${this.fileEnd}`;\n  },\n  decode(str) {\n    try {\n      return JSON.parse(gzipToStr(\n        str.slice(\n          this.fileStart.length,\n          -this.fileEnd.length\n        ).replace(/0c/gu, \"/\")\n          .replace(/0b/gu, \"+\")\n          .replace(/0a/gu, \"0\")\n      ));\n    } catch {\n      return undefined;\n    }\n  }\n};","import { getPlayer } from \"./core/runtime\";\n\nexport function resourceProduction() {\n  return getPlayer().layers.p.resource;\n}","import { DEV } from \"@/env\";\nimport { player } from \"./player\";\nimport { EventHub, GAME_EVENT } from \"./event-hub\";\nimport { GameUI } from \"./ui\";\nimport { resourceProduction } from \"@/production\";\n\nexport const GameLoop = {\n  interval: null,\n\n  devSpeed: 1,\n\n  get updateRate() {\n    return player.options.updateRate;\n  },\n\n  set updateRate(value) {\n    player.options.updateRate = value;\n    this.restart();\n  },\n\n  start() {\n    if (this.interval !== null) {\n      throw new Error(\"GameLoop has already started.\");\n    }\n    this.interval = setInterval(() => this.tick(), this.updateRate);\n  },\n\n  stop() {\n    if (this.interval === null) return;\n    clearInterval(this.interval);\n    this.interval = null;\n  },\n\n  restart() {\n    this.stop();\n    this.start();\n  },\n\n  /* eslint-disable no-unused-vars */\n  tick(ms) {\n    let diff = ms ?? Date.now() - player.lastUpdate;\n    player.lastUpdate += diff;\n\n    const realDiff = diff;\n    if (DEV) {\n      diff *= this.devSpeed;\n    }\n\n    const seconds = diff / 1000;\n    \n    player.resource = player.resource.add(resourceProduction().times(seconds));\n\n    GameUI.update();\n    EventHub.dispatch(GAME_EVENT.GAME_TICK_AFTER);\n  }\n};","/**\n * Async is used for making a big pile of computation into a manageable\n * set of batches that don't lock up the UI.\n * run() is the nominal entry point.\n */\nexport const Async = {\n  _enabled: true,\n  get enabled() {\n    return this._enabled;\n  },\n  set enabled(val) {\n    this._enabled = val;\n  },\n  runForTime(fun, maxIter, config) {\n    const batchSize = config.batchSize || 1;\n    const maxTime = config.maxTime;\n    const t0 = Date.now();\n    for (let remaining = maxIter; remaining > 0;) {\n      for (let j = 0; j < Math.min(remaining, batchSize); ++j) {\n        fun(remaining);\n        --remaining;\n      }\n      if (Date.now() - t0 >= maxTime) return remaining;\n    }\n    return 0;\n  },\n  sleepPromise: ms => new Promise(resolve => setTimeout(resolve, ms)),\n  /**\n   * Asynchronously run the specified function maxIter times, letting the event\n   * loop run periodically. The function is run in chunks of config.batchSize;\n   * when the elapsed time reaches a specified amount, execution will pause for\n   * config.sleepTime\n   * @param {function} fun Function to run (e.g. do some computation)\n   * @param {number} maxIter Total number of times to run the function\n   * @param {Object} config Options for how to do the calculation\n   * @param {Number} config.maxTime Max time, ms, over which to run continuously\n   * @param {Number} [config.batchSize] Number of times to run fun between time checks. Since Date.now() takes\n   *    non-zero time to execute, you don't necessarily want to check every iteration\n   * @param {Number} [config.sleepTime] Amount of time to suspend between computing\n   * @param {function(Number)} [config.asyncEntry] IF CALCULATION ISN'T DONE IN ONE BATCH, then this\n   *    gets called before the first sleep. Use this to set up a progress bar, for example. The function will\n   *    get passed the number of iterations run so far.\n   * @param {function(Number)} [config.asyncProgress] Called after the second and subsequent batches, with the\n   *    total number of iterations done thus far\n   * @param {function} [config.asyncExit] If more than one batch was done, this will be called. For example, can\n   *    be used to hide a progress bar.\n   * @param {function} [config.then] Run after everything is done\n   * @returns {Promise|undefined}\n   */\n  // eslint-disable-next-line consistent-return\n  run(fun, maxIter, config) {\n    if (this.enabled) {\n      // Disable async if we're already doing async\n      this.enabled = false;\n      const runResult = this._run(fun, maxIter, config);\n      return config.then ? runResult.then(() => {\n        config.then();\n        this.enabled = true;\n      }) : runResult;\n    }\n    for (let i = 0; i < maxIter; ++i) {\n      fun(i);\n    }\n    if (config.then) config.then();\n  },\n  /**\n   * @private\n   */\n  async _run(fun, maxIter, config) {\n    if (!config.progress) config.progress = {};\n    // We need to use config.progress variables because something else could change them\n    // (e.g. someone speeding up offline progress)\n    config.progress.maxIter = maxIter;\n    config.progress.remaining = this.runForTime(fun, config.progress.maxIter, config);\n    const sleepTime = config.sleepTime || 1;\n    if (!config.progress.remaining) return;\n    if (config.asyncEntry) config.asyncEntry(config.progress.maxIter - config.progress.remaining);\n    do {\n      await this.sleepPromise(sleepTime);\n      config.progress.remaining = this.runForTime(fun, config.progress.remaining, config);\n      if (config.asyncProgress) config.asyncProgress(config.progress.maxIter - config.progress.remaining);\n    } while (config.progress.remaining > 0);\n    if (config.asyncExit) config.asyncExit();\n  }\n};\n","import { deepmergeAll } from \"@/utils/deepmerge\";\nimport { getPlayer } from \"./runtime\";\nimport { GameLoop } from \"./game-loop\";\nimport { Async } from \"@/utils/async\";\nimport { state } from \"./ui.init\";\nimport { GameStorage } from \"./storage\";\n\nexport function simulateTime(seconds, fast = false) {\n  // The game is simulated at a base 50ms update rate, with a maximum tick count based on the values of real and fast\n  // - Calling with real === true will always simulate at full accuracy with no tick count reduction unless it would\n  //   otherwise simulate with more ticks than offline progress would allow\n  // - Calling with fast === true will only simulate it with a max of 50 ticks\n  // - Otherwise, tick count will be limited to the offline tick count (which may be set externally during save import)\n  // Tick count is never *increased*, and only ever decreased if needed.\n  if (seconds < 0) return;\n  let ticks = Math.floor(seconds * 20);\n\n  // Limit the tick count (this also applies if the black hole is unlocked)\n  const maxTicks = Math.min(1000 * seconds / 33, 1e5);\n  if (ticks > maxTicks && !fast) {\n    ticks = maxTicks;\n  } else if (ticks > 50 && fast) {\n    ticks = 50;\n  }\n\n  const playerStart = deepmergeAll([{}, getPlayer()]);\n\n  let remainingRealSeconds = seconds;\n  // During async code the number of ticks remaining can go down suddenly\n  // from \"Speed up\" which means tick length needs to go up, and thus\n  // you can't just divide total time by total ticks to get tick length.\n  // For example, suppose you had 6000 offline ticks, and called \"Speed up\"\n  // 1000 ticks in, meaning that after \"Speed up\" there'd only be 1000 ticks more\n  // (so 1000 + 1000 = 2000 ticks total). Dividing total time by total ticks would\n  // use 1/6th of the total time before \"Speed up\" (1000 of 6000 ticks), and 1/2 after\n  // (1000 of 2000 ticks). Short of some sort of magic user prediction to figure out\n  // whether the user *will* press \"Speed up\" at some point, dividing remaining time\n  // by remaining ticks seems like the best thing to do.\n  const loopFn = i => {\n    const diff = remainingRealSeconds / i;\n    GameLoop.tick(1000 * diff);\n    remainingRealSeconds -= diff;\n  };\n\n  // We don't show the offline modal here or bother with async if doing a fast simulation\n  if (fast) {\n    // Fast simulations happen when simulating between 10 and 50 seconds of offline time.\n    // One easy way to get this is to autosave every 30 or 60 seconds, wait until the save timer\n    // in the bottom-left hits 15 seconds, and refresh (without saving directly beforehand).\n    GameLoop.stop();\n    // Fast simulations are always 50 ticks. They're done in this weird countdown way because\n    // we want to be able to call the same function that we call when using async code (to avoid\n    // duplicating functions), and that function expects a parameter saying how many ticks are remaining.\n    for (let remaining = 50; remaining > 0; remaining--) {\n      loopFn(remaining);\n    }\n  } else {\n    const progress = {};\n    state.view.modal.progressBar = {};\n    Async.run(loopFn,\n      ticks,\n      {\n        batchSize: 1,\n        maxTime: 60,\n        sleepTime: 1,\n        asyncEntry: doneSoFar => {\n          GameLoop.stop();\n          state.view.modal.progressBar = {\n            label: \"Calculating Offline Simulations\",\n            current: doneSoFar,\n            max: ticks,\n            startTime: Date.now(),\n            buttons: [{\n              text: \"Speed Up\",\n              condition: (current, max) => max - current > 500,\n              click: () => {\n                const newRemaining = Math.clampMin(Math.floor(progress.remaining / 2), 500);\n                // We subtract the number of ticks we skipped, which is progress.remaining - newRemaining.\n                // This, and the below similar code in \"SKIP\", are needed or the progress bar to be accurate\n                // (both with respect to the number of ticks it shows and with respect to how full it is).\n                progress.maxIter -= progress.remaining - newRemaining;\n                progress.remaining = newRemaining;\n                // We update the progress bar max data (remaining will update automatically).\n                state.view.modal.progressBar.max = progress.maxIter;\n              }\n            },\n            {\n              text: \"Skip\",\n              condition: (current, max) => max - current > 10,\n              click: () => {\n                // We jump to 10 from the end (condition guarantees there are at least 10 left).\n                // We subtract the number of ticks we skipped, which is progress.remaining - 10.\n                progress.maxIter -= progress.remaining - 10;\n                progress.remaining = 10;\n              }\n            }]\n          };\n        },\n        asyncProgress: doneSoFar => {\n          state.view.modal.progressBar.current = doneSoFar;\n        },\n        asyncExit: () => {\n          state.view.modal.progressBar = undefined;\n          GameLoop.start();\n        },\n        then: () => {\n          afterSimulation(seconds, playerStart);\n        },\n        progress\n      });\n  }\n}\n\nfunction afterSimulation() {\n  GameStorage.save();\n}","import { DEV } from \"@/env\";\nimport { Lazy } from \"./cache\";\nimport { player, resetPlayerData, updatePlayerData, updatePlayerDependency } from \"./player\";\nimport { migrations } from \"./migrations\";\nimport { Serializer } from \"./serializer\";\nimport { GameLoop } from \"./game-loop\";\nimport { simulateTime } from \"./offline-simulation\";\nimport { EventHub, GAME_EVENT } from \"./event-hub\";\n\nexport const GameStorage = {\n  saveInterval: 2e4,\n\n  get timeSinceLastSave() {\n    return this._timeSinceLastSave;\n  },\n\n  set timeSinceLastSave(value) {\n    this._timeSinceLastSave = value;\n    if (this._timeSinceLastSave >= this.saveInterval) {\n      this.save();\n    }\n  },\n\n  get saveKey() {\n    return DEV ? \"tmtr-dev-save\" : \"tmtr-save\";\n  },\n\n  init() {\n    const localSave = localStorage.getItem(this.saveKey);\n    if (localSave === null) {\n      this.updatePlayerData();\n    } else {\n      this.importSave(localSave);\n    }\n    setInterval(() => this.save(), this.saveInterval);\n  },\n\n  importFromJSON(json) {\n    GameLoop.stop();\n    const playerObject = json;\n    updatePlayerData(migrations.patchPlayer(playerObject));\n    this.updatePlayerData();\n  },\n\n  exportToClipboard() {\n    copyToClipboard(Serializer.encode(JSON.stringify(player)));\n    GameUI.notify.info(\"\");\n  },\n\n  importSave(save) {\n    try {\n      this.importFromJSON(Serializer.decode(save));\n    } catch (e) {\n      console.log(e);\n    }\n  },\n\n  get canSave() {\n    return true;\n  },\n\n  save() {\n    if (!this.canSave) return;\n    localStorage.setItem(this.saveKey, Serializer.encode(JSON.stringify(player)));\n    this._timeSinceLastSave = 0;\n    this.hasSaved = true;\n  },\n\n  hardReset() {\n    resetPlayerData();\n    player.lastUpdate = Date.now();\n    this.save();\n    this.updatePlayerData();\n  },\n\n  updatePlayerData() {\n    updatePlayerDependency();\n    Lazy.invalidateAll();\n    const diff = Date.now() - player.lastUpdate;\n    if (diff > 1e4) {\n      simulateTime(diff / 1000);\n    } else {\n      GameLoop.restart();\n      this.save();\n    }\n    EventHub.dispatch(GAME_EVENT.AFTER_LOADING);\n  },\n\n  // Some minimal save verification; if the save is valid then this returns an empty string, otherwise it returns a\n  // a string roughly stating what's wrong with the save. In order for importing to work properly, this must return\n  // an empty string.\n  checkPlayerObject(save) {\n    // Sometimes save is the output of GameSaveSerializer.deserialize, and if that function fails then it will result\n    // in the input parameter here being undefined\n    if (save === undefined || save === null) return \"Save decoding failed (invalid format)\";\n    // Right now all we do is check for the existence of an mass prop, but if we wanted to do further save\n    // verification then here's where we'd do it\n    if (save.mass === undefined) return \"Save does not have mass property\";\n\n    // Recursively check for any NaN props and add any we find to an array\n    const invalidProps = [];\n    function checkNaN(obj, path) {\n      let hasNaN = false;\n      for (const key in obj) {\n        const prop = obj[key];\n        let thisNaN;\n        switch (typeof prop) {\n          case \"object\":\n            thisNaN = checkNaN(prop, `${path}.${key}`);\n            hasNaN = hasNaN || thisNaN;\n            break;\n          case \"number\":\n            thisNaN = Number.isNaN(prop);\n            hasNaN = hasNaN || thisNaN;\n            if (thisNaN) invalidProps.push(`${path}.${key}`);\n            break;\n          case \"string\":\n            // If we're attempting to import, all NaN entries will still be strings\n            thisNaN = prop === \"NaN\";\n            hasNaN = hasNaN || thisNaN;\n            if (thisNaN) invalidProps.push(`${path}.${key}`);\n            break;\n        }\n      }\n      return hasNaN;\n    }\n    checkNaN(save, \"player\");\n\n    if (invalidProps.length === 0) return \"\";\n    return `${quantify(\"NaN player property\", invalidProps.length)} found:\n      ${invalidProps.join(\", \")}`;\n  },\n}\n\nexport function convertBitsToArray(bits, startIndex = 0) {\n  const arr = [];\n  let b = bits;\n  let idx = startIndex;\n  while (b !== 0) {\n    if ((b & 1) === 1) arr.push(idx);\n    b >>= 1;\n    idx++;\n  }\n  return arr;\n}","import { GameUI } from \"../core/ui\";\r\n\r\nexport class NotImplementedError extends Error {\r\n  constructor() {\r\n    super(\"The method is not implemented.\");\r\n    this.name = \"NotImplementedError\";\r\n  }\r\n}\r\n\r\nconst GlobalErrorHandler = {\r\n  handled: false,\r\n  cleanStart: false,\r\n  onerror(event) {\r\n    if (this.handled) return;\r\n    this.handled = true;\r\n    if (!this.cleanStart) {\r\n      requestAnimationFrame(() => this.crash(event));\r\n      return;\r\n    }\r\n    this.stopGame();\r\n    this.crash(event);\r\n  },\r\n  stopGame() {\r\n    GameKeyboard.disable();\r\n    GameIntervals.stop();\r\n    function clearHandles(set, clear) {\r\n      // eslint-disable-next-line no-empty-function\r\n      let id = set(() => {}, 9999);\r\n      while (id--) {\r\n        clear(id);\r\n      }\r\n    }\r\n    clearHandles(setInterval, clearInterval);\r\n    clearHandles(setTimeout, clearTimeout);\r\n    clearHandles(requestAnimationFrame, cancelAnimationFrame);\r\n  },\r\n  crash(message) {\r\n    if (GameUI.initialized) {\r\n      alert(message);\r\n    }\r\n    // eslint-disable-next-line no-debugger\r\n    debugger;\r\n  }\r\n};\r\n\r\nwindow.onerror = (event, source) => {\r\n  if (!source.endsWith(\".js\")) return;\r\n  GlobalErrorHandler.onerror(event);\r\n};\r\n","import \"./utils/extensions\";\nimport { GameUI } from \"./core/ui\";\nimport { state } from \"./core/ui.init\";\nimport { GameStorage } from \"./core/storage\";\nimport \"./utils/crash\";\nimport { ModInfo } from \"./mod-info\";\n\nwindow.onload = function() {\n  GameUI.initialized = true;\n  state.view.initialized = true;\n  document.title = ModInfo.name;\n};\n\nexport function init() {\n  GameStorage.init();\n}","import eruda from \"eruda\";\nimport { init } from \"./game\";\n\nfunction isLocalEnvironment() {\n  const href = window.location.href;\n  return href.includes(\"file\") || href.includes(\"127.0.0.1\") || href.includes(\"localhost\") || href.includes(\"8080\");\n}\n\nif (isLocalEnvironment()) {\n  eruda.init();\n}\ninit();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktmtr\"] = self[\"webpackChunktmtr\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(5331); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Array","prototype","distinct","this","filter","value","index","self","indexOf","Math","wrap","number","min","max","range","offset","clamp","clampMax","clampMin","nextSiblingIndex","current","currentIndex","length","nextSibling","previousSiblingIndex","previousSibling","Decimal","sumReducer","accumulator","previous","add","prodReducer","mul","Number","maxReducer","a","b","copyFrom","decimal","sign","mag","layer","window","copyToClipboard","el","document","createElement","body","appendChild","style","position","left","setAttribute","str","select","execCommand","ex","console","log","funOrVal","fn","String","capitalize","toLowerCase","replace","c","toUpperCase","splice","start","delCount","newSubStr","slice","abs","count","keys","map","i","repeat","fill","first","predicate","undefined","last","mapToObject","keyFun","valueFun","out","idx","sum","reduce","countWhere","item","clampMaxExponent","maxExp","exponent","fromMantissaExponent_noNormalize","toDecimal","valueOf","log4","randomElement","floor","random","Error","copy","fromDecimal","Set","find","some","every","output","toJSON","from","compact","x","toBitmask","prev","val","mask","id","fromBitmask","bitIndices","push","isWhiteSpace","trim","mapGameDataToObject","gameData","mapFun","array","Object","entries","all","values","deepFreeze","obj","forEach","prop","reference","freeze","DC","D0","D0_1","D0_2","D0_3","D0_4","D0_5","D0_6","D0_7","D0_8","D0_9","D1","D2","D3","D4","D5","D6","D7","D8","D9","D20","E1","E2","E3","E4","E5","E6","E7","E8","E9","E10","LAYER_TYPE","NORMAL","STATIC","EventHub","constructor","_handlers","on","event","target","handlers","offAll","handler","off","dispatch","args","logic","GameUI","stats","countHandlers","eventHub","ui","GAME_EVENT","UPDATE","GAME_TICK_AFTER","TAB_CHANGED","ENTER_PRESSED","HIDE_TOOLTIP","AFTER_LOADING","LAYER_UNLOCKED","PRESTIGE_RESET","setPlayer","player","currentPlayer","getPlayer","name","requirement","checkEvent","color","getPlayerData","prestige","startingResource","resource","baseResource","getBaseAmount","setBaseAmount","type","gainMult","gainExp","resetFn","tabs","Layer","p","gte","LayerData","n","LayerLayout","LayerConnections","PrestigeState","config","currency","canReset","gainedResourceAt","amount","lt","div","pow","times","requirememtAt","root","pending","nextAt","reset","state","reactive","view","modal","queue","progressBar","tab","initialized","TabState","component","is","condition","isUnlocked","isOpen","show","LayerState","tryUnlock","data","createPlayerData","playerData","layers","Layers","getData","getNodeLayer","TREE_INFO","ROW_HEIGHT","NODE_SIZE","NodeCache","Map","getNodePosition","has","get","row","j","y","toString","set","useGameUpdate","updateFn","on$","onUnmounted","clear","props","__props","layerName","computed","styleObject","top","ref","showLayer","update","_createElementBlock","class","_normalizeStyle","onClick","__exports__","pos1","connection","pos2","bothUnlocked","node","x1","y1","x2","y2","connections","_hoisted_1","_hoisted_2","_Fragment","_renderList","_createBlock","_unref","NodeConnection","key","_createElementVNode","_hoisted_3","LayerNode","FORMAT_THRESHOLD","EXP_NOMANTISSA","EXP_WITH_MANTISSA","EXP_STANDARD","COMMA","SMALL","SLOG_UPPER","formatExponent","format","commaFormat","toStringWithDecimalPlaces","exponentialFormat","num","precision","includeMantissa","log10","mantissa","pow10","expStr","toFixed","raw","parts","split","regularFormat","actualPrecision","allowSmall","fromValue_noAlloc","isNaN","hasNaN","neg","POSITIVE_INFINITY","slog","base","sub","eq","formatVerySmall","transformed","invertOOM","expForm","e","ceil","m","newE","ModInfo","author","resourceName","discordName","discordLink","versionDisplay","version","versionTitle","_toDisplayString","gain","classObject","_normalizeClass","_createVNode","MainDisplay","ResetButton","_resolveDynamicComponent","components","singlePage","tabVisible","HeaderInfo","TreeLayout","GameTab","_cache","$event","DEV","process","createApp","ReactivityComplainer","complain","checkReactivity","path","__ob__","hasOwnProperty","call","events","flushPromise","Promise","resolve","then","flushEvents","bind","GameUIComponent","mount","Lazy","getValue","_getValue","registerLazy","registrar","_registrar","object","invalidateAll","invalidate","_value","invalidateOn","emptyTarget","isArray","cloneUnlessOtherwiseSpecified","options","clone","isMergeableObject","deepmerge","defaultArrayMerge","source","concat","element","mergeObject","destination","arrayMerge","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","deepmergeAll","deepCloneMerge","destinationArray","sourceArray","next","isNonNullObject","isSpecial","Boolean","stringValue","getDefaultPlayer","currentTab","currentSubtab","lastUpdate","Date","now","updatePlayerDependency","resetPlayerData","updatePlayerData","newPlayer","migrations","patches","prePatch","saveData","patch","maxVersion","versions","parseFloat","sort","v","patchPlayer","gzipToStr","charData","atob","charCodeAt","binData","Uint8Array","pako","to","strToGzip","btoa","fromCharCode","apply","gzip","Serializer","fileStart","fileEnd","encode","decode","JSON","parse","resourceProduction","GameLoop","interval","devSpeed","updateRate","restart","setInterval","tick","stop","clearInterval","ms","diff","seconds","Async","_enabled","enabled","runForTime","fun","maxIter","batchSize","maxTime","t0","remaining","sleepPromise","setTimeout","run","runResult","_run","progress","sleepTime","asyncEntry","asyncProgress","asyncExit","simulateTime","fast","ticks","maxTicks","playerStart","remainingRealSeconds","loopFn","doneSoFar","label","startTime","buttons","text","click","newRemaining","afterSimulation","GameStorage","save","saveInterval","timeSinceLastSave","_timeSinceLastSave","saveKey","init","localSave","localStorage","getItem","importSave","importFromJSON","json","playerObject","exportToClipboard","stringify","notify","info","canSave","setItem","hasSaved","hardReset","checkPlayerObject","mass","invalidProps","checkNaN","thisNaN","quantify","join","GlobalErrorHandler","handled","cleanStart","onerror","stopGame","crash","requestAnimationFrame","clearHandles","GameKeyboard","disable","GameIntervals","clearTimeout","cancelAnimationFrame","message","alert","isLocalEnvironment","href","location","includes","endsWith","onload","title","eruda","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","r","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}